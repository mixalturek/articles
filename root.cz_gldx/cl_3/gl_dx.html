<?xml version="1.0" encoding="ISO-8859-2"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="cz" lang="CZ">
<head>

<meta http-equiv="content-type" content="text/html; charset=ISO-8859-2" />
<meta http-equiv="content-language" content="cs" />
<meta http-equiv="content-script-type" content="text/javascript" />
<meta http-equiv="content-style-type" content="text/css" />

<meta name="robots" content="all, follow" />
<meta name="resource-type" content="document" />

<meta name="description" content="Porovnání 3D grafických knihoven OpenGL a Direct3D" />
<meta name="keywords" content="opengl, gl, directx, dx, direct3d, d3d, 3d, grafika" />
<meta name="author" content="all: Michal Turek - Woq; woq (zavináè) seznam.cz" />
<meta name="copyright" content="Copyright (c) 2004 Michal Turek - Woq" /><!-- Ne¾ to vyjde na root.cz :-] -->

<title>OpenGL a Direct3D III.</title>

<link href="style.css" rel="stylesheet" type="text/css" media="all" />
<link href="print.css" rel="stylesheet" type="text/css" media="print" />

</head>
<body>

<div id="text_stranky">

<h1>OpenGL a Direct3D III.</h1>

<p id="uvod">Hodnì lidí si myslí, ¾e je výhodnìj¹í pou¾ívat Direct3D, proto¾e v sobì standardnì obsahuje podporu absolutnì nejnovìj¹ích funkcí grafických karet. Jak je to ale s podporou vlastností, které OpenGL umí od samého poèátku své existence?</p>


<h3>Podpora &quot;starých&quot; funkcí</h3>

<p>Mnoho lidí, mezi nimi i autor døíve uvedeného èlánku o UT 2004 si myslí, ¾e cituji: <i>Bohu¾el je vidìt, ¾e v oblasti 3D grafiky se OpenGL nemù¾e DirectX v kvalitì obrazu rovnat. Zatímco DX 9.0 pøedstavuje hardwarovou podporu bump mapingu, pixel shaderù a krásných svìtelných efektù, musíme se v OpenGL spokojit s ponìkud hor¹í kvalitou obrazu.</i></p>

<p>Z tohoto citátu je jasnì vidìt, ¾e ABSOLUTNÌ neví, o èem mluví nebo v jeho pøípadì dokonce pí¹ou. Mohu jen odkázat na NeHe Tutoriály <a href="http://nehe.opengl.cz/tut_22.php" target="_blank">22 - Bump Mapping a Multitexturing</a> (tady je ale bump mapping poèítán je¹tì softwarovì :-( a <a href="http://nehe.opengl.cz/tut_47.php" target="_blank">47 - CG vertex shader</a>. Uká¾u radìji i screenshoty, tìm by mohl rozumìt více ne¾ zdrojovým kódùm. (Nevíte, jestli existuje nìjaký ¹kodolibý smajlík? :-)</p>

<div class="okolo_img"><a href="img/tut_22.jpg"><img src="img/n_tut_22.jpg" width="200" height="150" alt="Bump Mapping a Multitexturing" /></a><br />Bump Mapping (SW) a Multitexturing (HW)</div>

<p></p><!--mezera mezi obrázky-->

<div class="okolo_img"><a href="img/tut_47.jpg"><img src="img/n_tut_47.jpg" width="200" height="150" alt="Vertex shader (HW)" /></a><br />Vertex shader (HW)</div>

<p>No, a co se týèe svìtel, nevím, jestli je tohle v D3D <b>9.0</b> oproti jeho pøedchozím verzím nìjaká pøevratná novinka (není), ty jsou v OpenGL od samého zaèátku - cca. 15 let.</p>

<p>Na druhou stranu D3D je¹tì donedávna nemìlo ani takové základní funkce jako backface culling <a href="#literatura">[3]</a>! Pro ty, co neví, o èem je øeè... Jakýkoli <span title="obrazec - trojúhelník, ètverec, výceúhelník">polygon</span> se v¾dy renderuje &quot;dvakrát&quot;, nejdøíve pøední strana a pak zadní (zjednodu¹enì øeèeno) - samozøejmì v programu se vertexy definují pouze jednou. Kdy¾ se podíváte na list papíru uvidíte pøední stranu a po otoèení zadní (ve skuteèném svìtì u¾ jako pøední, pro OpenGL stále zadní).</p>

<p>U uzavøených objektù, které nikdy nepùjdou vidìt zevnitø (bedna ve scénì) nebo zvenku (skybox, místnost), se toho mù¾e vyu¾ít a jednu stranu odstranit. V OpenGL staèí jediná funkce:</p>

<pre>
glCullFace(GL_FRONT);// Odstraòovat pøední strany
glCullFace(GL_BACK);// Odstraòovat zadní strany
glCullFace(GL_FRONT_AND_BACK);// Odstraòovat obì strany
</pre>

<p>No dobøe, dvì funkce, je¹tì se to musí zapnout...</p>

<pre>
glEnable(GL_CULL_FACE);
</pre>

<p>Abyste vidìli názornì, o co se jedná, screenshot z NeHe Tutoriálu è. <a href="http://nehe.opengl.cz/tut_11.php" target="_blank">11 - Efekt vlnící se vlajky</a>. Mimochodem první OpenGL tutoriál, který jsem pøelo¾il do èe¹tiny...</p>

<div class="okolo_img"><a href="img/tut_11.jpg"><img src="img/n_tut_11.jpg" width="200" height="150" alt="Pøední strana vyplnìná, zadní linkami" /></a><br />Pøední strana vyplnìná, zadní linkami</div>

<p>Pozn.: Zde nebyl pou¾it culling, ale tzv. módy polygonù - na tomto jde toti¾ culling vidìt :-), ve skuteènosti pøi oøezání polygonu neuvidíte nic. Obì techniky pracují na stejném principu.</p>

<pre>
glPolygonMode(GL_BACK, GL_FILL);// Zadní strana vyplnìná
glPolygonMode(GL_FRONT, GL_LINE);// Pøední strana møí¾kou
</pre>

<p>Abychom trochu zrychlili, o dal¹ích základních vìcech, které GL umí a D3D ne, pouze citát z <a href="#literatura">[3]</a>:</p>

<p><i>OpenGL v immediate módu umí v¹echno to, co Direct3D, a navíc poskytuje dal¹í funkce, jako tøeba odstraòování zadních stìn pøed vykreslením (face-culling), správu ¹ablon a pamìti textur, trojrozmìrné textury, akumulaèní buffer (pou¾ívá se tøeba k navození efektu rychlého pohybu s rozmazáním - motion blur), podporu parametrických køivek a ploch, atd.</i></p>

<p>Pozn.: Tento zdroj je u¾ relativnì starý (min. 3 roky), tak¾e u nových verzí DX u¾ v¹echno nemusí být pravda (napø. zmínìný face-culling).</p>

<p>Na druhou stranu se zabývá i vìcmi, které D3D umí lépe:</p>

<p><i>OpenGL i Direct3D pou¾ívají Goraudovo stínování. Direct3D má teoretické pøedpoklady i pro Phonogovo stínování, které by posunulo grafický výstup blí¾e k realitì, tato funkce v¹ak nebyla dosud implementována. Protìj¹kem display-list módu OpenGL je u Direct3D tzv. retained mode. Tady poskytuje Direct3D podstatnì lep¹í slu¾by ne¾ OpenGL. Objekty na scénì je mo¾né seskupovat do hierarchických struktur, s kterými se dá pracovat na objektovém principu. Podobné funkce jsou u OpenGL dostupné pouze prostøednictvím urèitých roz¹íøení. Za vymo¾enosti nového pøístupu potom programátor zaplatí sní¾eným výkonem programu.</i></p>

<p>BTW: Goraudovo a Phongovo stínování - nikdy jsem se nedoèetl, jaký je mezi nimi rozdíl, snad jen to, ¾e Phongovo je lep¹í. V¹ude bývá uvedeno, ¾e ho OpenGL narozdíl od DirectX nepodporuje... a v¾dycky u této zprávy bývá malými písmeny, ¾e v DirectX je¹tì není implementováno :-).</p>

<p>Pøí¹tì se podíváme na podporu nových vlastností grafických karet, ty vás asi budou zajímat více.</p>

<a id="literatura"></a>
<h3>Literatura</h3>

<ul>
<li>[0] Vlastní zku¹enosti s 3D grafikou</li>
<li>[1] Clayton Walnum: Programujeme grafiku v Microsoft&reg; Direct3D (9.0), Computer Press 2004, první vydání, 358 stran</li>
<li>[2] Chip 01/2004, Hardwarový fotorealismus: Mo¾nosti moderních 3D grafických akcelerátorù, str. 96-100)</li>
<li>[3] <a href="http://nehe.opengl.cz/cl_gl_referat.pdf" target="_blank">Daniel Èech: OpenGL - Referát na praktikum z informatiky (PDF)</a> - Opravdu kvalitní text</li>
<li>[4] <a href="http://nehe.opengl.cz/cl_sdl_hry.pdf" target="_blank">Bernard Lidický: Nìkolik poznámek k tvorbì poèítaèových her (PDF)</a> - Vìnuje se pøedev¹ím tématùm, jaké hry programovat a v èem (pøenositelné knihovny Allegro a SDL)</li>
<li>[5] <a href="http://www.root.cz/clanek/2314">Linuxové hry (47): Unreal Tournament 2004</a> - Hlavní impuls pro vznik tohoto èlánku</li>
</ul>


<div>Pro server <a href="http://www.root.cz/">root.cz</a> napsal</div>
<div>Michal Turek - Woq <span class="m">&lt;WOQ (zavináè) seznam.cz&gt;</span></div>

</div><!-- div id="text_stranky" -->

</body>
</html>