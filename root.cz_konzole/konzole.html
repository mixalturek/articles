<?xml version="1.0" encoding="iso-8859-2"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="cs" lang="CS">

<head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
<meta http-equiv="content-language" content="cs" />
<meta name="author" content="all: Michal Turek - Woq; WOQ (zavináè) seznam.cz" />
<style type="text/css" media="all">@import "./data/style.css";</style>
<title>Pracovat se dá i v textové konzoli</title>
</head>

<body>

<h1>Prý se dá pracovat i v textové konzoli...</h1>

<p class="perex">Nápad na tento èlánek se objevil v dobì, kdy jsem se pokou¹el na svùj poèítaè nainstalovat Gentoo Linux a byl nucen pracovat nìkolik dní výhradnì v textové konzoli. Neèekejte ode mì ¾ádné advanced techniky spojování programù a podobné unixové vychytávky, ale spí¹e reklamu na u¾ivatelsky pøíjemný software pro textový re¾im, jako je mc, links, centericq, mutt a dal¹í. Èlánek je urèen pro zaèáteèníky, prosím v¹echny hardcore guru, aby mìli shovívavost... ;-]</p>


<p>První dotaz, který si jistì ka¾dý polo¾í, zní, proè se uèit pracovat právì v textovém re¾imu, kdy¾ existuje tolik snadno ovladatelných a ve vìt¹inì pøípadù i rychlých grafických prostøedí? Asi nejvhodnìj¹í odpovìï vidím, kromì krizových stavù operaèního systému ;-), v ssh a vzdáleném pøístupu. Spustíte ssh klienta, zadáte heslo a jako byste sedìli doma u svého poèítaèe místo ve ¹kole nebo v práci.</p>

<pre>
$ ssh u¾ivatel@poèítaè.cz
</pre>

<p>Pøes ssh lze samozøejmì spou¹tìt i grafické aplikace, nicménì pravidlem to být nemusí. Na serveru mù¾e být napøíklad vypnutý X11Forwarding (/etc/ssh/sshd_config X11Forwarding no) nebo pøi pøihla¹ování pøes Putty z MS Windows, popø. jiného neunixového operaèního systému. V obou tìchto pøípadech si musí u¾ivatel vystaèit výhradnì s textovým re¾imem, proto¾e grafický fungovat prostì nebude.</p>

<p>Nemusím, doufám, pøipomínat, ¾e v Linuxovém textovém re¾imu není dostupná jen jedna textová konzole. Pøepínají se pomocí klávesových zkratek Ctrl+Alt+F1, Ctrl+Alt+F2 atd. (nìkdy pouze Alt+F*). Pokud èasto spou¹títe tolik aplikací, ¾e u¾ vám poèet funkèních kláves nestaèí, mù¾ete se zkusit poohlédnout po programu screen. Popis jeho ovládání by vydal na <a href="http://gentoo-wiki.com/TIP_Using_screen">samostatný èlánek</a>, tak¾e tato zmínka bude v¹e, co se o nìm ode mì dozvíte.</p>

<p>V následujícím textu se pokusím pøedstavit u¾ivatelsky pøíjemný software pro textový re¾im, který bude zahrnovat vìt¹inu oblastí bì¾né práce na poèítaèi. Jeliko¾ je práce s aplikacemi víceménì intuitivní, nebudu se soustøedit ani tak na vlastní ovládání, jako spí¹e na nejrùznìj¹í finty, které na první pohled nejsou moc vidìt.</p>


<h2>Vylep¹ení konzole</h2>

<p>Pod slovem textový re¾im si pamìtníci operaèního systému MS-DOS asi pøedstaví bílý text na èerném pozadí o rozli¹ení obrazovky 80x24 znakù. V Linuxu to pravidlem být nemusí, dùle¾ité slovo je framebuffer, v podstatì se jedná o køí¾ence mezi textovým a grafickým re¾imem. Na úrovni implementace se sice u¾ jedná o grafiku napøíklad v rozli¹ení 1024x768 pixelù, ale primárnì je pou¾íván, pokud si zrovna neprohlí¾íte obrázky nebo nepøehráváte filmy, stále pro zobrazování textové konzole.</p>

<p>Máte-li v kernelu zapnutou podporu, ale rozli¹ení zùstává stále na 80x24 znacích, zkuste v /boot/grub/menu.lst pøidat u specifikace kernelu vga parametr. Tabulku jeho hodnot a odpovídající rozli¹ení s barevnou hloubkou lze najít napøíklad na <a href="http://gentoo-wiki.com/HOWTO_Framebuffer:Bootsplash:Grubsplash">gentoo-wiki stránkách</a>.</p>

<pre>
# /boot/grub/menu.lst
title		Debian GNU/Linux, kernel 2.6.8-2-k7 (1280x1024, 16M)
root		(hd0,0)
kernel		/vmlinuz-2.6.8-2-k7 root=/dev/hda5 ro vga=0x31B
initrd		/initrd.img-2.6.8-2-k7
savedefault
boot
</pre>

<p>Mimochodem, pokud by vám navíc v konzoli chybìla my¹ a hlavnì schránka pøes prostøední tlaèítko, není nic snaz¹ího ne¾ nainstalovat a spustit <a href="http://freshmeat.net/projects/gpm/">gpm</a> démona.</p>


<h2>Správce souborù</h2>

<p>Midnight Commander alias mcéèko zná jistì ka¾dý Linuxový u¾ivatel. Tento souborový mana¾er vychází z dosovského Norton Commanderu, tak¾e pokud jste u¾ nìkdy mìli v ruce dvoupanelový správce souborù, jistì vám ovládání nebude èinit ¾ádný problém.</p>

<div class="img"><img src="./data/mc.png" width="486" height="342" alt="" /><br />Midnight Commander</div>

<p>Mc umí pøistupovat ke komprimovaným archivùm, poskytuje výkonného FTP klienta a také jednoduchý textový editor, jen¾ je realizován externím programem mcedit.</p>

<p>Za vychytávky bych rád zmínil dvì klávesové zkratky, které ne ka¾dý zná. První z nich Ctrl+S urychluje pøístup k souborùm nacházejícím se v daném adresáøi a druhá Ctrl+\ (vedle backspace, nutná anglická klávesnice) dává k dispozici systém zálo¾ek.</p>


<h2>Komprimace souborù</h2>

<p>Nevím, jestli existuje i nìco interaktivního, pro komprimaci pou¾ívám tar a pro dekompresi mcéèko. Jedná se pravdìpodobnì o nejrychlej¹í zpùsob.</p>

<pre>
$ tar -czf vytvareny_archiv.tar.gz adresar_pro_komprimaci
</pre>


<h2>Vyhledávání souborù</h2>

<p>Tìm, kteøí si nejsou schopni zapamatovat mno¾ství parametrù programu find a nebaví je poka¾dé proèítat manuálové stránky, urèitì vydatnì poslou¾í program locate. Narozdíl od find nevyhledává soubory, pøedev¹ím kvùli rychlosti, na disku, ale v pøedem sestavené databázi. K její aktualizaci slou¾í pøíkaz updatedb.</p>

<pre>
$ locate soubor
$ locate soubor | less
</pre>

<p>Pokud bude nalezených souborù pøíli¹ mnoho a 'uteèou' z obrazovky, je mo¾né pou¾ít klávesové zkratky Shift+PageUP, Shift+PageDown pro rolování výpisù na konzoli. Druhé øe¹ení spoèívá v pøesmìrování výstupu do less.</p>


<h2>Textové editory</h2>

<p>Nejen Emacsem èi Vi ¾iv je èlovìk, nicménì jejich základní znalost, alespoò na úrovni editace konfiguraèních souborù, se pøeci jen mù¾e nìkdy hodit. Pøi problémech se systémem mohou být jednìmi z mála funkèních programù.</p>

<p>Mimochodem, pokud vám nestaèí jen jeden operaèní systém ;-) a rozhodnete se pro Emacs, mù¾ete ho mimo jiné pou¾ívat také pro komunikaci s psychiatrem (Alt+X doctor)</span>.</p>

<div class="img"><img src="./data/vim.png" width="486" height="342" alt="" /><br />Vim</div>

<p>Nezku¹ení u¾ivatelé dají pøednost spí¹e nìjakému jinému editoru. Mù¾e se jednat tøeba o ji¾ zmínìný mcedit, ale také o joe, nano nebo úplnì jiný, pravdìpodobnì je bude nutné dodateènì nainstalovat.</p>

<p>Rada pro zaèáteèníky: Pokud pøeci jenom zkusíte Vi - klasik øíká, ¾e zkusit se má v¹echno - na ukonèení v¾dy zabere posloupnost Esc :q!</p>

<div class="img"><img src="./data/nano.png" width="486" height="342" alt="" /><br />Velice jednoduchý textový editor nano</div>


<h2>Multimediální programy</h2>

<p>V textovém re¾imu?! A proè ne? V Linuxu jde v¹echno ;-) Pro prohlí¾ení obrázkù mù¾ete zkusit napøíklad program <a href="http://freshmeat.net/projects/fbi/">fbi</a> (framebuffer image viewer).</p>

<p>Dal¹ím programem, který po spu¹tìní v textovém re¾imu vyu¾ívá framebuffer, je pøehrávaè Mplayer. Vypí¹e-li po spu¹tìní nìco jako &quot;Couldn't open the X11 display&quot;, zkuste pøidat argument -vo fbdev.</p>

<pre>
$ mplayer film.avi
$ mplayer -vo fbdev film.avi
</pre>

<p>Pokud preferujete i na video èistì textový re¾im, mù¾ete zkusit nìjaký ascii pøehrávaè. Je to sice spí¹e rarita, ale i takové existují. Onehdy se mi z mc pøi ssh pøístupu spustil pøehrávaè <a href="http://www.videolan.org/vlc/">VLC</a> v zajímavém textoidním re¾imu - zá¾itek opravdu na celý ¾ivot :-)</p>

<p>Mplayer lze bez problémù pou¾ít také na pøehrávání hudby, nicménì asi bude lep¹í sáhnout po specializovaném softwaru, který umí vytváøet playlisty. Mù¾e jím být napøíklad <a href="http://www.stack.nl/~brama/mp3blaster.html">mp3blaster</a>, který podporuje pøehrávání mp3, ogg, wav a sid.</p>

<div class="img"><img src="./data/mp3blaster.png" width="486" height="342" alt="" /><br />Pøehrávaè hudby mp3blaster</div>


<h2>Webové prohlí¾eèe</h2>

<p>Links a Lynx jistì znají také v¹ichni, co alespoò jednou zavítali do textového re¾imu. Nejvìt¹ím problémem pøi jejich pou¾ívání je, ¾e ne v¹ichni weboví tvùrci optimalizují své stránky pro tyto, v dne¹ní dobì spí¹e speciální, prohlí¾eèe :-(</p>

<div class="img"><img src="./data/lynx.png" width="486" height="342" alt="" /><br />Root.cz v Lynxu</div>

<p>Naproti tomu se lze setkat i s <a href="http://aa-project.sourceforge.net/">celými weby</a>, které nejsou v jiných prohlí¾eèích nic moc. ...a ve FAQ, hned na prvním místì trùní otázka: &quot;Proè je text tak hnusnì zelený?&quot;. Odpovìï je velice jednoduchá: &quot;Zkuste jiný software. Je jen jediný správný prohlí¾eè - Lynx.&quot;</p>


<h2>Elektronická po¹ta</h2>

<p>Potøebujete-li jen nìco narychlo odeslat, nejjednodu¹¹í je pou¾ít neinteraktivní program mail. Text zprávy se naèítá ze standardního vstupu, tak¾e jej lze, v pøípadì krátkého oznámení, spojit rourou napøíklad s echem. Druhou mo¾ností je pøesmìrovat soubor ulo¾ený na disku.</p>

<pre>
$ echo 'Pøijedu v ¹est' | mail -s pøedmìt adresa@server.cz
$ mail -s pøedmìt adresa@server.cz &lt; text_zpravy.txt 
</pre>

<p>Pokud hledáte komplexní emailový klient pracující v textovém re¾imu, první èlovìk, kterého potkáte, vás s nejvìt¹í pravdìpodobností odká¾e na Mutt.</p>

<div class="img"><img src="./data/mutt.png" width="486" height="342" alt="" /><br />Mutt</div>


<h2>ICQ</h2>

<p>Pro interaktivní komunikaci s okolím slou¾í výkonné centericq, které v sobì, kromì ICQ, integruje i mnoho dal¹ích protokolù. Jsou jimi Yahoo!, AIM, IRC, MSN, Gadu-Gadu a Jabber.</p>

<div class="img"><img src="./data/centericq.png" width="486" height="342" alt="" /><br />centericq</div>

<p>Potøebujete-li s nìkým komunikovat a nemáte-li k dispozici ¾ádný potøebný software, lze se v¾dy uchýlit k programu screen, který je sice primárnì urèen k naprosto jiným vìcem, ale krizový, av¹ak velice efektní, chat zvládá také.</p>

<p>Jediná pøeká¾ka mù¾e spoèívat v nutnosti pøihlá¹ení se obou komunikujících na spoleèný u¾ivatelský úèet (telnet, ssh), tak¾e tuto mo¾nost radìji vyu¾ívejte výhradnì jen s tìmi, komu opravdu vìøíte.</p>

<p>Zprovoznìní je velice jednoduché, první osoba spustí screen bez parametrù a druhá s argumentem -x. Terminály se propojí a ve¹keré výstupy programù se budou zobrazovat na obou monitorech. Této techniky se v naprosté vìt¹inì pøípadù vyu¾ívá pøi administraci systému, aby osoba, která nìco neumí, mohla sledovat, jak to dìlá ten druhý...</p>


<h2>Nìkdy text nestíhá...</h2>

<p>Celý tento èlánek byl o tom, v jakých oblastech práce na poèítaèi se dá vyu¾ít textový re¾im bez uèení slo¾itých pøíkazù. Bylo by ale vhodné uvést nìkolik pøíkladù, kde u¾ bohu¾el spí¹e nestíhá. Asi nejslo¾itìj¹í situace nastanou pøi nutnosti editování obrázkù ala Gimp a pøi nutnosti pou¾ívání kanceláøského balíku ve stylu OpenOffice.org.</p>


<h2>Download</h2>

<p><ul>
<li><a href="konzole.tar.gz">Offline verze èlánku vèetnì v¹ech pøíloh</a></li>
</ul></p>


<div class="autor">Michal Turek - Woq &lt;WOQ (zavináè) seznam.cz&gt;, 25.08.2005</div>

</body>
</html>
